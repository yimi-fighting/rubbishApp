(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/test/test"],{1328:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2eee")),u=n(i("c973")),o=n(i("970b")),r=n(i("5bc3")),s=n(i("9523")),c=i("069d"),l=i("e6e0"),h=function(){function t(e){(0,o.default)(this,t),this.key=e}return(0,r.default)(t,[{key:"setValue",value:function(e){this.val=e;var i=Math.floor(14*Math.random())+1;this.style=t.colorType[i]}}]),t}();(0,s.default)(h,"colorType",{1:"background: #FFB7DD ",2:" background: #FFCCCC ",3:" background: #FFC8B4 ",4:" background: #FFDDAA ",5:" background: #FFEE99 ",6:" background: #FFFFBB ",7:" background: #EEFFBB ",8:" background: #CCFF99 ",9:" background: #99FF99 ",10:" background: #BBFFEE ",11:" background: #AAFFEE ",12:" background: #99FFFF ",13:"background: #CCEEFF",14:" background: #CCDDFF "});var f={data:function(){var t=new Array(10).fill({});return{questionList:t,score:"",answerList:[],show:!1,dragWeight:100,dragHeight:30,chuyulaji:{},kehuishoulaji:{aa:"aa"},youhailaji:{},qitalaji:{},timer:null}},methods:{onchange:function(t,e){var i=this,n={left:t.detail.x,top:t.detail.y,right:t.detail.x+this.dragWeight,bottom:t.detail.y+this.dragHeight};clearTimeout(this.timer),this.timer=setTimeout((function(){i.judgeBin(n,e)}),300)},judgeBin:function(t,e){t.left>=this.chuyulaji.left&&t.right<=this.chuyulaji.right&&t.top>=this.chuyulaji.top&&t.bottom<=this.chuyulaji.bottom?this.setAnswer("厨余垃圾",e):t.left>=this.kehuishoulaji.left&&t.right<=this.kehuishoulaji.right&&t.top>=this.kehuishoulaji.top&&t.bottom<=this.kehuishoulaji.bottom?this.setAnswer("可回收物",e):t.left>=this.youhailaji.left&&t.right<=this.youhailaji.right&&t.top>=this.youhailaji.top&&t.bottom<=this.youhailaji.bottom?this.setAnswer("有害垃圾",e):t.left>=this.qitalaji.left&&t.right<=this.qitalaji.right&&t.top>=this.qitalaji.top&&t.bottom<=this.qitalaji.bottom&&this.setAnswer("其他垃圾",e)},setAnswer:function(t,e){var i=!1;this.answerList.map((function(t){t.name===e.name&&(i=!0)})),i||this.answerList.push({name:e.val,answer:e.class,yourAnswer:t}),this.questionList=this.questionList.filter((function(t){return t.key!==e.key}))},getques:function(){var t=this;return(0,u.default)(a.default.mark((function e(){var i;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.questionList.map(function(){var t=(0,u.default)(a.default.mark((function t(e,i){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getQuestions)();case 2:return e=t.sent,n=new h(i),n.setValue(e.name),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()),e.next=3,Promise.all(i);case 3:t.questionList=e.sent,t.questionList=(0,l.keyToClass)(t.questionList),console.log("123456",t.questionList),t.questionList=(0,l.setXY)(t.questionList);case 7:case"end":return e.stop()}}),e)})))()},getBinLocation:function(e){var i=this;return new Promise((function(n){t.createSelectorQuery().in(i).select(".".concat(e)).boundingClientRect((function(t){var e={left:t.left,right:t.right,top:t.top,bottom:t.bottom};n(e)})).exec()}))}},watch:{questionList:function(e,i){if(0===e.length){console.log("题目答完");var n=JSON.stringify(this.answerList);t.navigateTo({url:"/pages/test/score/score?answerList=".concat(n)})}}},onLoad:function(){this.show=!0},mounted:function(){var t=this;return(0,u.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getBinLocation("chuyulaji");case 2:return t.chuyulaji=e.sent,e.next=5,t.getBinLocation("kehuishoulaji");case 5:return t.kehuishoulaji=e.sent,e.next=8,t.getBinLocation("youhailaji");case 8:return t.youhailaji=e.sent,e.next=11,t.getBinLocation("qitalaji");case 11:t.qitalaji=e.sent,t.getques();case 13:case"end":return e.stop()}}),e)})))()}};e.default=f}).call(this,i("543d")["default"])},"4a8f":function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("32b1");n(i("66fd"));var a=n(i("5068"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(a.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},5068:function(t,e,i){"use strict";i.r(e);var n=i("effd"),a=i("ba98");for(var u in a)["default"].indexOf(u)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(u);i("ec84");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=r.exports},b73e:function(t,e,i){},ba98:function(t,e,i){"use strict";i.r(e);var n=i("1328"),a=i.n(n);for(var u in n)["default"].indexOf(u)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(u);e["default"]=a.a},ec84:function(t,e,i){"use strict";var n=i("b73e"),a=i.n(n);a.a},effd:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e,i){var n=[],a=arguments.length-2;while(a-- >0)n[a]=arguments[a+2];var u=n[n.length-1].currentTarget.dataset,o=u.eventParams||u["event-params"];i=o.item;return t.onchange(e,i)})},a=[]}},[["4a8f","common/runtime","common/vendor"]]]);